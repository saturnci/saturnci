<%= turbo_frame_tag "test_suite_run", class: "test-suite-run", data: { turbo_action: "advance" } do %>
  <%= render "test_suite_runs/header", build: @test_suite_run %>

  <%= turbo_frame_tag "test_suite_run_body", class: "test-suite-run-body", data: { turbo_action: "advance" } do %>
    <%= render "test_suite_runs/menu",
      test_suite_run: @test_suite_run,
      active_task: @run,
      current_tab_name: current_tab_name,
      target_tab_name: current_tab_name %>

    <ul class="run-menu-secondary tab-menu thick-black-bottom-border">
      <% test_suite_run_navigation(@run, current_tab_name) do |nav| %>
        <%= nav.item "System Logs", "system_logs" %>
        <%= nav.item "Events", "events" %>
      <% end %>
    </ul>

    <div class="run-details" data-controller="run-details">
      <div id="<%= worker_output_stream.target %>">
        <%= render current_tab_name, current_tab_name: current_tab_name, run: @run %>
      </div>
    </div>

    <%= turbo_stream_from worker_output_stream.name %>
  <% end %>
<% end %>
