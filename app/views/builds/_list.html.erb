<div class="build-list-container">
  <% if @build_list.builds.any? %>
    <%= render @build_filter_component %>

    <div class="build-count"
         data-controller="build-count"
         data-build-count-builds-url-value="<%= project_builds_path(@build.project) %>"
         data-build-count-starting-build-count-value="<%= @build_list.builds.count %>">
      <%= pluralize(@build_list.builds.count, "build") %>
      <span data-build-count-target="message"></span>
    </div>

    <div class="build-list">
      <ul data-controller="build-list">
        <% @build_list.builds.each do |build| %>
          <li>
            <%= link_to project_build_path(@build.project, build),
              data: { turbo_frame: "build", action: "click->build-list#makeActive", build_list_target: "link" },
              class: build == @build ? "active" : "",
              id: "build_link_#{build.id}" do %>

              <div id="build_status_<%= build.id %>">
                <%= render "builds/list_item", build: build %>
              </div>
            <% end %>
          </li>
        <% end %>
      </ul>
    </div>
  <% else %>
    (No builds)
  <% end %>
</div>
