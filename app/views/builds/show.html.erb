<%= render @build_component do |component| %>
  <%= component.with_body do %>
    <%= turbo_frame_tag "build", class: "build", data: { turbo_action: "advance" } do %>
      <%= render "builds/header", build: @build do %>
        <%= button_to "Run", rebuilds_path(build_id: @build.id), method: :post, data: { turbo: false } %>
        <%= button_to "Delete", project_build_path(id: @build.id, project_id: @build.project_id), method: :delete, data: { turbo: false } %>
      <% end %>

      <%= turbo_frame_tag "build_body", class: "build-body", data: { turbo_action: "advance" } do %>
        <%= render "builds/menu",
          build: @build,
          run: nil,
          current_tab_name: "overview",
          target_tab_name: "test_output" %>

        <div class="build-menu">
          <%= render "builds/overview", build: @build %>
        </div>
      <% end %>
    <% end %>
  <% end %>
<% end %>
